<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://bootswatch.com/5/simplex/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
    <link rel="stylesheet" href="/styles/main.css" />
    <title>PORTKET</title>
  </head>
  <body>
    <!--message-->
    {{> message}}
    <!--top-->
    <header class="header">
      <!--loader-->
      <div class="loader-container">
        <div class="loader-bar"></div>
      </div>
      <!--nab bar-->
      <nav class="navbar py-2 px-4">
        <a class="navbar-brand fw-bold" href="/users">
          {{#if isAuthenticated}}{{currentUser.name}}'s{{/if}}
          <span class="text-primary">PORT</span><span>KET</span>
        </a>
        {{#if isAuthenticated}}
        <div class="navbar-right">
          <!-- edit mode buttons for my portfolio-->
          {{#if (isSame page 'myPortfolio')}}
          <div class="edit-buttons-container">
            <button id="edit-portfolio-btn" class="btn btn-primary edit-btn">
              <i class="fa-solid fa-pencil edit-portfolio-icon"></i>
              Edit Mode
            </button>
            <button id="save-portfolio-btn" class="btn btn-primary edit-btn">Save</button>
            <button id="cancel-portfolio-btn" class="btn btn-primary edit-btn">X</button>
          </div>
          {{else}}
          <!--my portfolio-->
          <a class="my-portfolio-icon" href="/users/{{currentUser.id}}">
            <i class="fa-solid fa-user"></i>
          </a>
          {{/if}}
          <!--logout-->
          <a class="login-btn btn btn-outline-primary" href="/users/logout">Logout</a>
          {{else}}
          <!--login-->
          <a class="login-btn btn btn-primary" href="/users/login">Login</a>
          {{/if}}
        </div>
        <!--edit mode display tip-->
        <div id="edit-mode-display">Edit Mode</div>
      </nav>
    </header>

    <!--main content-->
    <div class="body">{{{body}}}</div>

    <!--footer-->
    <div class="footer">{{> footer}}</div>

    <!--script-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
    <script src="/javascript/index.js"></script>
    <script src="/javascript/loader.js"></script>
  </body>
</html>
