(()=>{"use strict";var e={183:(e,t,r)=>{r.d(t,{Z:()=>s});const s=class{constructor(){this.alertMessage=document.querySelector("#alert-message"),this.alertCloseBtn=document.querySelector("#alert-message-close-btn"),this.init()}init(){this.alertCloseBtn.addEventListener("click",(()=>{this.hideAlertMessage()}))}showAlertMessage(e,t){e||(e="Something went wrong."),this.alertMessage.querySelector(".alert-message-text").innerText=e,this.resetClass(this.alertMessage,"marginShake"),this.alertMessage.style.display="block"}hideAlertMessage(){this.alertMessage.style.display="none"}resetClass(e,t){e.classList.remove(t),setTimeout((()=>{e.classList.add(t)}),40)}}}},t={};function r(s){var a=t[s];if(void 0!==a)return a.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,r),n.exports}r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=r(183);class t{constructor(){this.getProjectsUrl="/api/projects",this.currentUserData=document.querySelector("#current-user-data"),this.currentUserId=this.currentUserData.dataset.id}async getProjects(e=this.currentUserId){try{const t=`${this.getProjectsUrl}?userId=${e}`,r=await fetch(t);return await r.json()}catch(e){return console.log("err",e),e}}}class s{constructor(){this.navbarAvatarImg=document.querySelector("#navbar-avatar-img"),this.navbarAvatarMenu=document.querySelector("#navbar-avatar-div-menu"),this.body=document.querySelector("body"),this.hamburgerMenu=document.querySelector("#hamburger-menu"),this.hamburgerMenuProjectsContainer=document.querySelector("#hamburger-menu-my-projects-container"),this.bodyDisableCover=document.querySelector("#body-disable-cover")}showHamburgerMenu(){this.body.style.overflowY="hidden",this.bodyDisableCover.style.display="block",this.hamburgerMenu.classList.add("show-menu")}hideHamburgerMenu(){this.body.style.overflowY="scroll",this.bodyDisableCover.style.display="none",this.hamburgerMenu.classList.remove("show-menu")}toggleNavbarAvatarMenu(e){if(!this.navbarAvatarImg||!this.navbarAvatarMenu||!e)return;e!==this.navbarAvatarImg?(e=>{e&&(e.classList.contains("hide")||this.navbarAvatarMenu.classList.add("hide"))})(e):(e=>{e&&(this.navbarAvatarMenu.classList.contains("hide")?this.navbarAvatarMenu.classList.remove("hide"):this.navbarAvatarMenu.classList.add("hide"))})(e)}renderHamburgerMenuProjects(e){const t=this.hamburgerMenuProjectsContainer;if(t){t.innerHTML="";let r="";for(let t=0;t<e.length;t++)r+=`\n      <a href="/projects/${e[t].id}" class="hamburger-menu-link" aria-label="project">\n          <div class="hamburger-menu-link-content">\n            <i class="fa-regular fa-file-lines navbar-links-icon"></i>\n            <span class="hamburger-menu-text">${e[t].title}</span>\n          </div>\n          </a>`;t.innerHTML=r}}}class a{constructor(t,r){this.view=t,this.model=r,this.alertMessage=new e.Z,this.init()}init(){document.addEventListener("click",(e=>this.hamburgerMenuToggle(e)))}async hamburgerMenuToggle(e){if(!e.target)return;const t=e.target.id;if("hamburger"===t||"hamburger-i"===t){if(this.view.showHamburgerMenu(),this.model.currentUserId)try{const e=await this.model.getProjects();e.ok?this.view.renderHamburgerMenuProjects(e.data.projects):this.alertMessage.showAlertMessage(`${e.action}: ${e.message}`)}catch(e){this.alertMessage.showAlertMessage(`${e.name}: ${e.message}`)}}else"hamburger-in-menu"!==t&&"hamburger-in-menu-i"!==t&&"body-disable-cover"!==t||this.view.hideHamburgerMenu()}}document.addEventListener("DOMContentLoaded",(()=>{const e=new t,r=new s;new a(r,e)}))})()})();