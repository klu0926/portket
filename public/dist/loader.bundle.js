(()=>{class e{constructor(){}}class t{constructor(){this.imageLoadDivs=document.querySelectorAll(".image-load"),this.loaderContainer=document.querySelector(".loader-container"),this.loaderBar=document.querySelector(".loader-bar"),this.init()}init(){this.handleImageLoaded()}handleImageLoaded(){this.imageLoadDivs.forEach((e=>{const t=e.querySelector("img");t&&(t.complete?e.classList.add("loaded"):t.addEventListener("load",(()=>{e.classList.add("loaded")})))}))}}class a{constructor(e,t){this.view=t,this.model=e,this.loaderPercent=0,this.loaderInterval=null,this.loaderAmount=.5,this.loaderTime=10,this.init()}init(){this.loaderReset(),window.addEventListener("beforeunload",(()=>this.loaderStart())),window.addEventListener("unload",(()=>this.loaderComplete()))}loaderStart(){null===this.loaderInterval&&(this.view.loaderContainer.style.opacity="1",this.loaderInterval=setInterval((()=>{this.loaderPercent>=87&&(clearInterval(this.loaderInterval),this.loaderInterval=null),this.view.loaderBar.style.width=(this.loaderPercent+=this.loaderAmount).toString()+"%"}),this.loaderTime))}loaderReset(){this.loaderPercent=0,this.view.loaderBar.style.width="0%",this.loaderInterval&&(clearInterval(this.loaderInterval),this.loaderInterval=null)}loaderComplete(){this.loaderPercent=100,this.view.loaderBar.style.width=loaderPercent+"%",this.loaderInterval&&(clearInterval(this.loaderInterval),this.loaderInterval=null)}}document.addEventListener("DOMContentLoaded",(()=>{const l=new e,r=new t;new a(l,r)}))})();